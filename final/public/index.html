<html class="intro">
  <head>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/simple-peer/9.11.0/simplepeer.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.4.0/socket.io.js"></script>
    <title>McCoyâ€™s Video Chat</title>
    <link rel="stylesheet" type="text/css" href="./style.css" />
    <script type="text/javascript" src="./multi-peer-connection.js"></script>
    <script type="text/javascript" src="./script.js"></script>
  </head>
  <body>
    <div id="body-container">
      <div id="intro-area">
        <h1>Hello and Welcome!</h1>
        <p>
          This is a safe and anonymous space for you to meet with people from
          all over the world.
        </p>
        <p>
          Double click your own frame to quickly turn off your camera and mic,
          or double click others&rsquo; frames to report them.
        </p>
        <p>Please be nice and give everyone a chance to speak.</p>
        <form id="intro-form">
          <input type="submit" value="Continue" />
        </form>
      </div>

      <div id="setup-area">
        <h2>Please pick a username:</h2>
        <form id="setup-form">
          <input
            enterkeyhint="go"
            type="text"
            id="username"
            name="username"
            placeholder="Username"
            maxlength="40"
            required
          />
          <input type="submit" value="Confirm" />
        </form>
        <p>- or -</p>
        <p>
          <span tabindex="0" id="generate-random">Generate a Random One</span>
        </p>
      </div>

      <div id="room-area">
        <div class="pop-up-area" id="room-pop-up-area">
          <div class="pop-ups">
            <div class="pop-up alert-dialog" id="room-alert-dialog">
              <span></span>
              <input type="button" value="OK" class="subtle" />
            </div>
            <div class="pop-up confirm-dialog" id="room-confirm-dialog">
              <span></span>
              <input type="button" value="Join the Room" />
              <input type="button" value="Cancel" class="subtle" />
            </div>
          </div>
        </div>

        <div>
          <h2>Please pick a topic to start a new room:</h2>
          <form id="new-room-form">
            <input
              enterkeyhint="go"
              type="text"
              name="topic"
              placeholder="Topic"
              maxlength="40"
              required
            />
            <input type="submit" value="Confirm" />
          </form>
        </div>
        <div id="choose-room-area" class="no-existing-room">
          <p>- or -</p>
          <h2>Choose from 0 open rooms:</h2>
          <div id="rooms"></div>
        </div>
      </div>
    </div>

    <div id="chatting-area">
      <div id="main-area">
        <div id="stream-area">
          <div id="streams">
            <div
              id="capture-div"
              tabindex="0"
              class="stream"
              title="Double Click to Turn Off Your Camera and Mic"
            >
              <div class="username">
                <div class="mic-indicator"></div>
                <p class="username-text">Username</p>
              </div>
              <video id="capture-video" playsinline muted></video>
              <audio id="capture-audio" playsinline muted></audio>
            </div>
          </div>
        </div>
        <div class="pop-up-area" id="main-pop-up-area">
          <div class="pop-ups">
            <div class="pop-up alert-dialog" id="main-alert-dialog">
              <span></span>
              <input type="button" value="OK" class="subtle" />
            </div>
            <div class="pop-up confirm-dialog" id="main-confirm-dialog">
              <input type="button" value="Report and Hide" />
              <input type="button" value="Cancel" class="subtle" />
            </div>
            <div
              class="pop-up danger-confirm-dialog"
              id="main-danger-confirm-dialog"
            >
              <span
                >You will have to request to rejoin the room once you
                leave.</span
              >
              <input type="button" value="Leave" class="dangerous" />
              <input type="button" value="Cancel" class="subtle" />
            </div>
          </div>
        </div>
      </div>
      <form id="control">
        <div>
          <div>
            <label>Video:</label>
            <select id="select-camera">
              <option>- Camera Off -</option>
              <option>- Camera On -</option>
            </select>
          </div>

          <div>
            <label>Audio:</label>
            <select id="select-mic">
              <option>- Mic Off -</option>
              <option>- Mic On -</option>
            </select>
          </div>
        </div>
        <div class="end">
          <input
            id="leave-room"
            class="dangerous"
            type="button"
            value="Leave Room"
          />
        </div>
      </form>
    </div>
  </body>
</html>
